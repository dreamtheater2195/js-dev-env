{"version":3,"sources":["webpack:///./src/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/index.css","webpack:///./src/api/userApi.js","webpack:///./src/api/baseUrl.js"],"names":["then","usersBody","result","forEach","user","id","firstName","lastName","email","global","document","getElementById","innerHTML","deleteLinks","getElementsByClassName","Array","from","link","onclick","event","element","target","preventDefault","attributes","value","row","parentNode","removeChild","getUsers","deleteUser","baseUrl","get","del","url","fetch","onSuccess","onError","request","Request","method","response","json","error","console","log","getBaseUrl","getQueryStringParameterByName","name","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;AACA,yBAAWA,IAAX,CAAgB,kBAAU;AACxB,MAAIC,YAAY,EAAhB;AACAC,SAAOC,OAAP,CAAe,gBAAQ;AACrBF,qEACuCG,KAAKC,EAD5C,kEAEkBD,KAAKC,EAFvB,mCAGkBD,KAAKE,SAHvB,mCAIkBF,KAAKG,QAJvB,mCAKkBH,KAAKI,KALvB;AAOD,GARD;AASAC,SAAOC,QAAP,CAAgBC,cAAhB,CAA+B,OAA/B,EAAwCC,SAAxC,GAAoDX,SAApD;;AAEA,MAAMY,cAAcJ,OAAOC,QAAP,CAAgBI,sBAAhB,CAAuC,YAAvC,CAApB;;AAEAC,QAAMC,IAAN,CAAWH,WAAX,EAAwB,gBAAQ;AAC9BI,SAAKC,OAAL,GAAe,UAASC,KAAT,EAAgB;AAC7B,UAAMC,UAAUD,MAAME,MAAtB;AACAF,YAAMG,cAAN;AACA,+BAAWF,QAAQG,UAAR,CAAmB,SAAnB,EAA8BC,KAAzC;AACA,UAAMC,MAAML,QAAQM,UAAR,CAAmBA,UAA/B;AACAD,UAAIC,UAAJ,CAAeC,WAAf,CAA2BF,GAA3B;AACD,KAND;AAOD,GARD;AASD,CAxBD,E;;;;;;;ACJA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA,yC;;;;;;;;;;;;QCKgBG,Q,GAAAA,Q;QAIAC,U,GAAAA,U;;AAThB;;AACA;;;;;;AAEA,IAAMC,UAAU,wBAAhB;;AAEO,SAASF,QAAT,GAAoB;AACzB,SAAOG,IAAI,OAAJ,CAAP;AACD;;AAEM,SAASF,UAAT,CAAoBxB,EAApB,EAAwB;AAC7B,SAAO2B,eAAa3B,EAAb,CAAP;AACD;;AAED,SAAS0B,GAAT,CAAaE,GAAb,EAAkB;AAChB,SAAOC,MAAMJ,UAAUG,GAAhB,EAAqBjC,IAArB,CAA0BmC,SAA1B,EAAqCC,OAArC,CAAP;AACD;;AAED,SAASJ,GAAT,CAAaC,GAAb,EAAkB;AAChB,MAAMI,UAAU,IAAIC,OAAJ,CAAYR,UAAUG,GAAtB,EAA2B;AACzCM,YAAQ;AADiC,GAA3B,CAAhB;AAGA,SAAOL,MAAMG,OAAN,EAAerC,IAAf,CAAoBmC,SAApB,EAA+BC,OAA/B,CAAP;AACD;;AAED,SAASD,SAAT,CAAmBK,QAAnB,EAA6B;AAC3B,SAAOA,SAASC,IAAT,EAAP;AACD;;AAED,SAASL,OAAT,CAAiBM,KAAjB,EAAwB;AACtBC,UAAQC,GAAR,CAAYF,KAAZ,EADsB,CACF;AACrB,C;;;;;;;;;;;;kBC9BuBG,U;AAAT,SAASA,UAAT,GAAsB;AACnC,SAAOC,8BAA8B,YAA9B,IAA8C,wBAA9C,GAAyE,+CAAhF;AACD;;AAED,SAASA,6BAAT,CAAuCC,IAAvC,EAA6Cd,GAA7C,EAAkD;AAChD,MAAI,CAACA,GAAL,EAAUA,MAAMe,OAAOC,QAAP,CAAgBC,IAAtB;AACVH,SAAOA,KAAKI,OAAL,CAAa,SAAb,EAAwB,MAAxB,CAAP;AACA,MAAIC,QAAQ,IAAIC,MAAJ,CAAW,SAASN,IAAT,GAAgB,mBAA3B,CAAZ;AAAA,MACIO,UAAUF,MAAMG,IAAN,CAAWtB,GAAX,CADd;AAEA,MAAI,CAACqB,OAAL,EAAc,OAAO,IAAP;AACd,MAAI,CAACA,QAAQ,CAAR,CAAL,EAAiB,OAAO,EAAP;AACjB,SAAOE,mBAAmBF,QAAQ,CAAR,EAAWH,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAnB,CAAP;AACD,C","file":"main.3b8c452a1274788ba1e6.js","sourcesContent":["import './index.css';\nimport {getUsers, deleteUser} from './api/userApi';\n\n//populate table of users via API call.\ngetUsers().then(result => {\n  let usersBody = \"\";\n  result.forEach(user => {\n    usersBody += `<tr>\n                <td><a href=\"#\" data-id=\"${user.id}\" class=\"deleteUser\">Delete</a></td>\n                <td>${user.id}</td>\n                <td>${user.firstName}</td>\n                <td>${user.lastName}</td>\n                <td>${user.email}</td>\n                </tr>`\n  });\n  global.document.getElementById('users').innerHTML = usersBody;\n\n  const deleteLinks = global.document.getElementsByClassName('deleteUser');\n\n  Array.from(deleteLinks, link => {\n    link.onclick = function(event) {\n      const element = event.target;\n      event.preventDefault();\n      deleteUser(element.attributes[\"data-id\"].value);\n      const row = element.parentNode.parentNode;\n      row.parentNode.removeChild(row);\n    };\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 3\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.css\n// module id = 4\n// module chunks = 0","import 'whatwg-fetch';\nimport getBaseUrl from './baseUrl';\n\nconst baseUrl = getBaseUrl();\n\nexport function getUsers() {\n  return get('users');\n}\n\nexport function deleteUser(id) {\n  return del(`users/${id}`);\n}\n\nfunction get(url) {\n  return fetch(baseUrl + url).then(onSuccess, onError);\n}\n\nfunction del(url) {\n  const request = new Request(baseUrl + url, {\n    method: 'DELETE'\n  });\n  return fetch(request).then(onSuccess, onError);\n}\n\nfunction onSuccess(response) {\n  return response.json();\n}\n\nfunction onError(error) {\n  console.log(error); // eslint-disable-line no-console\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/userApi.js","export default function getBaseUrl() {\n  return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : 'https://pacific-headland-18446.herokuapp.com/';\n}\n\nfunction getQueryStringParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n      results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseUrl.js"],"sourceRoot":""}